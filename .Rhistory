128977-26
f<-function(i,j,k){(k-1)*112*55+(j-1)*112+i}
f(7,9,3)
}
rm(list=ls())
stepVp = read.table("/Users/geli/Documents/Research/LeechRiverFault/TOMOGRAPHY/STEPHENS/casc16c_4geli/Vp_4geli.pdat",sep=" ",skip=26)
stepVs = read.table("/Users/geli/Documents/Research/LeechRiverFault/TOMOGRAPHY/STEPHENS/casc16c_4geli/Vs_4geli.pdat",sep=" ",skip=26)
stepVpLast <- stepVp[which(stepVp$V7==21),]
missIndex <- data.frame()
f<-function(i,j,k){(k-1)*112*55+(j-1)*112+i}
for(j in 1:55){
for (i in 1:112){
if (!any(stepVpLast$V5 == i &  stepVpLast$V6 == j)){
missIndex <- rbind(missIndex,c(i,j))
#lineNum <- f(i,j,21)
}
}
}
s<-split(stepVp,stepVp$V7)
str(s)
s<-split(stepVp$V1,stepVp$V7)
str(s)
6160-5751
mod(409,112*55)
409%％112&55
409%％112＊55
409%％112*55
409%%112*55
409%%(112*55)
13223%%(112*55)
13223-903
12320/112/55
fInv <- function(num){
mod1 <- num %% (112*55)
k <- (num-mod1)/(112*55)+1
mod2 <- mod1 %% (112)
j <- (mod1-mod2)/112+1
i <- mod2
}
fInv <- function(num){
mod1 <- num %% (112*55)
k <- (num-mod1)/(112*55)+1
mod2 <- mod1 %% (112)
j <- (mod1-mod2)/112+1
i <- mod2
c(i,j,k)
}
fInv(1)
fInv(13232)
f(13232)
f(16,9,3)
fInv(f(23,20,5))
stepVp[2,]
insertData <- stepVp[2,]
insertData
insertData[1,3]<--5
insertData
insertData[1,c(3,4,7)] <- c(-5,NA,20)
insertData
ncol(insertData)
nrow(insertData)
rm(list=ls())
stepVs <- rbind(stepVs[1:lineNum-1,],insertData,stepVs[lineNum:ncrow(stepVs),])
stepVp = read.table("/Users/geli/Documents/Research/LeechRiverFault/TOMOGRAPHY/STEPHENS/casc16c_4geli/Vp_4geli.pdat",sep=" ",skip=26)
stepVs = read.table("/Users/geli/Documents/Research/LeechRiverFault/TOMOGRAPHY/STEPHENS/casc16c_4geli/Vs_4geli.pdat",sep=" ",skip=26)
stepVpLast <- stepVp[which(stepVp$V7==21),]
missIndex <- data.frame()
f<-function(i,j,k){(k-1)*112*55+(j-1)*112+i}
fInv <- function(num){
mod1 <- num %% (112*55)
k <- (num-mod1)/(112*55)+1
mod2 <- mod1 %% (112)
j <- (mod1-mod2)/112+1
i <- mod2
c(i,j,k)
}
for(j in 1:55){
for (i in 1:112){
if (!any(stepVpLast$V5 == i &  stepVpLast$V6 == j)){
missIndex <- rbind(missIndex,c(i,j))
lineNum <- f(i,j,21)
lineNum2 <- f(i,j,20)
insertData <- stepVp[lineNum2,]
insertData[1,c(3,4,7)] <- c(-5,NA,20)
stepVp <- rbind(stepVp[1:lineNum-1,],insertData,stepVp[lineNum:ncrow(stepVp),])
stepVs <- rbind(stepVs[1:lineNum-1,],insertData,stepVs[lineNum:ncrow(stepVs),])
}
}
}
stepVp = read.table("/Users/geli/Documents/Research/LeechRiverFault/TOMOGRAPHY/STEPHENS/casc16c_4geli/Vp_4geli.pdat",sep=" ",skip=26)
stepVs = read.table("/Users/geli/Documents/Research/LeechRiverFault/TOMOGRAPHY/STEPHENS/casc16c_4geli/Vs_4geli.pdat",sep=" ",skip=26)
stepVpLast <- stepVp[which(stepVp$V7==21),]
missIndex <- data.frame()
f<-function(i,j,k){(k-1)*112*55+(j-1)*112+i}
fInv <- function(num){
mod1 <- num %% (112*55)
k <- (num-mod1)/(112*55)+1
mod2 <- mod1 %% (112)
j <- (mod1-mod2)/112+1
i <- mod2
c(i,j,k)
}
for(j in 1:55){
for (i in 1:112){
if (!any(stepVpLast$V5 == i &  stepVpLast$V6 == j)){
missIndex <- rbind(missIndex,c(i,j))
lineNum <- f(i,j,21)
lineNum2 <- f(i,j,20)
insertData <- stepVp[lineNum2,]
insertData[1,c(3,4,7)] <- c(-5,NA,20)
stepVp <- rbind(stepVp[1:lineNum-1,],insertData,stepVp[lineNum:nrow(stepVp),])
stepVs <- rbind(stepVs[1:lineNum-1,],insertData,stepVs[lineNum:nrow(stepVs),])
}
}
}
s<-split(stepVp$V1,stepVp$V7)
str(s)
i
j
insertData
lineNum2
insertData <- stepVp[lineNum2,]
insertData
which(stepVp$V5<20 & stepVp$V6<20 $ stepVp$V7 == 21)
which(stepVp$V5<20 & stepVp$V6<20 & stepVp$V7 == 21)
vpMean <- mean(stepVp$V4[[selected]])
selected <- which(stepVp$V5<20 & stepVp$V6<20 & stepVp$V7 == 21)
vpMean <- mean(stepVp$V4[[selected]])
selected <- which(stepVp$V5<20 & stepVp$V6<20 & stepVp$V7 == 21)
vpMean <- mean(stepVp$V4[selected])
rm(list=ls())
stepVp = read.table("/Users/geli/Documents/Research/LeechRiverFault/TOMOGRAPHY/STEPHENS/casc16c_4geli/Vp_4geli.pdat",sep=" ",skip=26)
stepVs = read.table("/Users/geli/Documents/Research/LeechRiverFault/TOMOGRAPHY/STEPHENS/casc16c_4geli/Vs_4geli.pdat",sep=" ",skip=26)
stepVpLast <- stepVp[which(stepVp$V7==21),]
missIndex <- data.frame()
f<-function(i,j,k){(k-1)*112*55+(j-1)*112+i}
fInv <- function(num){
mod1 <- num %% (112*55)
k <- (num-mod1)/(112*55)+1
mod2 <- mod1 %% (112)
j <- (mod1-mod2)/112+1
i <- mod2
c(i,j,k)
}
selected <- which(stepVp$V5<20 & stepVp$V6<20 & stepVp$V7 == 21)
vpMean <- mean(stepVp$V4[[selected]])
vsMean <- mean(stepVs$V4[[selected]])
vpMean <- mean(stepVp$V4[selected])
vsMean <- mean(stepVs$V4[selected])
tmpVp <- stepVp
tmpVs <- stepVs
s
s<- split(stepVp$V5,stepVp$V7)
str(s)
sX<- split(stepVp$V5,stepVp$V7)
sY<- split(stepVp$V6,stepVp$V7)
plot(sX[[21]],sY[[21]])
selected <- which(stepVp$V5<15 & stepVp$V6<42 & stepVp$V7 == 21)
vpMean <- mean(stepVp$V4[selected])
vsMean <- mean(stepVs$V4[selected])
tmpVp <- stepVp
tmpVs <- stepVs
for(j in 1:55){
for (i in 1:112){
if (!any(stepVpLast$V5 == i &  stepVpLast$V6 == j)){
missIndex <- rbind(missIndex,c(i,j))
lineNum <- f(i,j,21)
lineNum2 <- f(i,j,20)
insertData <- stepVp[lineNum2,]
insertData[1,c(3,4,7)] <- c(-5,NA,21)
stepVp <- rbind(stepVp[1:lineNum-1,],insertData,stepVp[lineNum:nrow(stepVp),])
stepVs <- rbind(stepVs[1:lineNum-1,],insertData,stepVs[lineNum:nrow(stepVs),])
}
}
}
sX<- split(stepVp$V5,stepVp$V7)
sY<- split(stepVp$V6,stepVp$V7)
plot(sX[[21]],sY[[21]])
str(sX)
str(sY)
128951-129360
head(stepVp)
rho <- rho <- (stepVp$4/1000)*1.6612-(stepVp$4/1000)^2*0.4721+(stepVp$4/1000)^3*0.0671-(stepVp$4/1000)^4*0.0043+(stepVp$4/1000)^5*0.000106
rho <- rho <- (stepVp$V4/1000)*1.6612-(stepVp$V4/1000)^2*0.4721+(stepVp$V4/1000)^3*0.0671-(stepVp$V4/1000)^4*0.0043+(stepVp$V4/1000)^5*0.000106
summary(rho)
stepVp$4
stepVp$V4
rho <- (stepVp$V4/1000)*1.6612-(stepVp$V4/1000)^2*0.4721+(stepVp$V4/1000)^3*0.0671-(stepVp$V4/1000)^4*0.0043+(stepVp$V4/1000)^5*0.000106
summary(rho)
rm(list=ls())
stepVp = read.table("/Users/geli/Documents/Research/LeechRiverFault/TOMOGRAPHY/STEPHENS/casc16c_4geli/Vp_4geli.pdat",sep=" ",skip=26)
stepVs = read.table("/Users/geli/Documents/Research/LeechRiverFault/TOMOGRAPHY/STEPHENS/casc16c_4geli/Vs_4geli.pdat",sep=" ",skip=26)
stepVpLast <- stepVp[which(stepVp$V7==21),]
missIndex <- data.frame()
f<-function(i,j,k){(k-1)*112*55+(j-1)*112+i}
fInv <- function(num){
mod1 <- num %% (112*55)
k <- (num-mod1)/(112*55)+1
mod2 <- mod1 %% (112)
j <- (mod1-mod2)/112+1
i <- mod2
c(i,j,k)
}
selected <- which(stepVp$V5<15 & stepVp$V6<42 & stepVp$V7 == 21)
vpMean <- mean(stepVp$V4[selected])
vsMean <- mean(stepVs$V4[selected])
tmpVp <- stepVp
tmpVs <- stepVs
for(j in 1:55){
for (i in 1:112){
if (!any(stepVpLast$V5 == i &  stepVpLast$V6 == j)){
missIndex <- rbind(missIndex,c(i,j))
lineNum <- f(i,j,21)
lineNum2 <- f(i,j,20)
insertDataVp <- stepVp[lineNum2,]
insertDataVp[1,c(3,4,7)] <- c(-5,vpMean,21)
insertDataVs <- stepVs[lineNum2,]
insertDataVs[1,c(3,4,7)] <- c(-5,vsMean,21)
stepVp <- rbind(stepVp[1:lineNum-1,],insertDataVp,stepVp[lineNum:nrow(stepVp),])
stepVs <- rbind(stepVs[1:lineNum-1,],insertDataVs,stepVs[lineNum:nrow(stepVs),])
}
}
}
rho <- (stepVp$V4/1000)*1.6612-(stepVp$V4/1000)^2*0.4721+(stepVp$V4/1000)^3*0.0671-(stepVp$V4/1000)^4*0.0043+(stepVp$V4/1000)^5*0.000106
rho <- rho*1000
summary(rho)
summary(stepVp$4V4)
summary(stepVp$V4)
sX<- split(stepVp$V5,stepVp$V7)
sY<- split(stepVp$V6,stepVp$V7)
str(sX)
str(sY)
tomoData <- cbind(stepVp[1:4,],stepVs[4,],rho)
tomoData <- cbind(stepVp[1:4,],stepVs[4,])
head(tomoData)
tomoData <- cbind(stepVp[,1:4],stepVs[,4])
head(tomoData)
tomoData <- cbind(stepVp[,1:4],stepVs[,4],rho)
head(tomoData)
write.table(tomoData,file = "/Users/geli/Documents/Research/LeechRiverFault/TOMOGRAPHY/STEPHENS/casc16c_4geli/tomography_model3.xyz")
write.table(tomoData,file = "/Users/geli/Documents/Research/LeechRiverFault/TOMOGRAPHY/STEPHENS/casc16c_4geli/tomography_model3.xyz",row.names = F,col.names = F)
112*55*21
summary(tomoData$V1)
summary(tomoData$V2)
summary(tomoData$V3)
summary(tomoData$V4)
summary(tomoData$V5)
summary(tomoData$stepVs[, 4])
summary(tomoData$"stepVs[, 4]")
summary(tomoData$rho)
names(tomoData) <-c("x","y","z","Vp","Vs","Rho")
head(tomoData)
to.read=file("/Users/geli/Documents/Research/LRF_GMSimul/TOMOFILES/casc250mc_new_casc720_Qs1_40nz.dat","rb")
class(to.read)
?readBin
vData <- readBin(to.read,numeric(),n=3)
head(vData)
vData <- readBin(to.read,numeric(),n=100)
head(vData)
vData <- readBin(to.read,numeric(),n=1000)
head(vData,n=30)
nx = 720;ny=600
vData <- readBin(to.read,numeric(),n=nx*ny*2)
class(vData )
class(vData)
dtr(vData)
str(vData)
vData <- readBin(to.read,numeric(),n=720*600*40)
length(vData)
size(vData)
720*600*40
vData <- readBin(to.read,numeric(),n=720*600*41)
length(vData)
vData[17712000]
vData <- readBin(to.read,numeric(),n=720*600*40*8)
length(vData)
vData <- readBin(to.read,numeric(),n=720*600*40*9)
length(vData)
vData <- readBin(to.read,numeric(),n=720*600*40*8)
vData[1:8]
vData <- readBin(to.read,numeric(),n=720*600*40*8)
vData[1:8]
vData <- readBin(to.read,numeric(),n=720*600*40)
vData[1:8]
vData <- readBin(to.read,numeric(),n=720*600*41)
vData[1:8]
vData[1]
vData <- readBin(to.read,numeric(),n=720*600*40)
vData[1]
to.read=file("/Users/geli/Documents/Research/LRF_GMSimul/TOMOFILES/casc250mc_new_casc720_Qs1_40nz.dat","rb")
vData <- readBin(to.read,numeric(),n=720*600)
str(vData)
vData <- readBin(to.read,numeric(),n=720*600*40*8)
str(vData)
vData[1:8]
rData <- read.table("/Users/geli/Documents/Dropbox/LRF/LRF_manuscript/JGRSubmitted/TableS1.txt",sep=" ")
head(rData,3)
write.csv(rData, row.names = F,col.names = F,file = "/Users/geli/Documents/Dropbox/LRF/LRF_manuscript/JGRSubmitted/TableS1.csv")
rData <- read.table("/Users/geli/Documents/Dropbox/LRF/LRF_manuscript/JGRSubmitted/TableS1.csv",sep=",")
names(rData)
head(rData)
?contour
modelData <- read.table(file="/Users/geli/Documents/Research/LRF_GMSimul/TOMOFILES/Model_4Olsen",sep = " ")
modelData <- read.table(file="/Users/geli/Documents/Research/LRF_GMSimul/TOMOFILES/Model_4Olsen/model_georgiaB_0-250m.dat",sep = " ")
head(modelData,n=3
)
modelData <- read.table(file="/Users/geli/Documents/Research/LRF_GMSimul/TOMOFILES/Model_4Olsen/model_georgiaB_0-250m.dat",sep = ",")
head(modelData,n=3
)
contour(x=modelData$V1,y=modelData$V2,modelData$V4)
contour(modelData$V4)
tomoData<- read.csv(file="/Users/geli/Documents/Research/LRF_GMSimul/TOMOFILES/Model_4Olsen_250m/model_georgiaB_0-250m.dat",sep=',')
head(tomoData)
nrow(tomoData)
names(tomoData) <- c("x","y","z","Vp","Vs","rho","Qp","Qs")
head(tomoData)
summary(tomoData$Vp)
fileName <-"/Users/geli/Documents/Research/LRF_GMSimul/TOMOFILES/casc250mc_new_casc720_Qs1_40nz.dat"
my.file <- file(fileName,'rb')
readBin(my.file,size = 4,n = 1)
readBin(my.file,numeric(),size = 4,n = 1)
readBin(my.file,raw(),size = 4,n = 1)
readBin(my.file,int,size = 4,n = 1)
readBin(my.file,int(),size = 4,n = 1)
readBin(my.file,integer(),size = 4,n = 1)
readBin(my.file,integer(),size = 4,n = 8)
readBin(my.file,numeric(),size = 4,n = 8)
readBin(my.file,double(),size = 4,n = 8)
readBin(my.file,character(),size = 4,n = 8)
readBin(my.file,character(),size = 32,n = 1)
readBin(my.file,double(),size = 32,n = 1)
readBin(my.file,numeric(),size = 32,n = 1)
readBin(my.file,numeric(),size = 4,n = 8)
my.file2 <- file("/Users/geli/Desktop/doubledata.bin",'rb')
readBin(my.file2,double(),size = 8,n = 1)
readBin(my.file2,double(),size = 8,n = 2)
readBin(my.file2,double(),size = 16,n = 2)
readBin(my.file2,double(),size = 8,n = 1)
readBin(my.file2,double(),size = 8,n = 1)
close(my.file2)
close.connection(my.file2)
my.file2 <- file("/Users/geli/Desktop/doubledata.bin",'rb')
readBin(my.file2,double(),size = 8,n = 1)
readBin(my.file2,double(),size = 8,n = 1)
readBin(my.file2,double(),size = 8,n = 1)
readBin(my.file2,double(),size = 8,n = 1)
readBin(my.file2,double(),size = 8,n = 1)
readBin(my.file2,double(),size = 8,n = 1)
readBin(my.file2,double(),size = 8,n = 1)
readBin(my.file2,double(),size = 8,n = 1)
readBin(my.file2,double(),size = 8,n = 1)
readBin(my.file2,double(),size = 8,n = 1)
readBin(my.file2,double(),size = 8,n = 1)
close(my.file22)
close(my.file2)
close(my.file)
swirl()
library(sworl)
library(swirl)
swirl()
library(tidyr)
library(swirl)
swirl()
tan(pi)
tan(pi/2)
tan(pi/4)
tan(15*pi/180)
10*sqrt(3)
-10*sqrt(3)
-10/sqrt(3)
-10/sqrt(3)-20/tan(pi*15/180)
-15/sqrt(3)-15/tan(pi*15/180)
-15/sqrt(3)
tan(15)
tan(45)
atan(10/15)
atan(10/15)/pi*180
30/sqrt(3)
－15/sqrt(3)
-15/sqrt(3)
-15/sqrt(3)-15/tan(15*pi/180)
atan(1/3)
atan(1/3)*180/pi
atan(3)*180/pi
setwd('/Users/geli/Documents/DOCS/DataScience/Getting_Cleaning_data/Project/UCI_HAR_Dataset')
dir()
testData <- read.csv('./test/X_test.txt',sep= ' ')
tranData <- read.csv('./train/X_train.txt',sep= ' ')
trainData <- tranData
tranData <- read.table('./train/X_train.txt',sep= ' ')
head(testData,n=2)
trainData <- read.csv('./train/X_train.txt',sep= ',')
trainData <- read.csv('./train/X_train.csv',sep= ',')
View(trainData)
trainData[7351,1]
trainData[7351,2]
trainData <- read.csv('./train/X_train.csv',sep= ',',header = F)
?read.csv
testData <- read.csv('./test/X_test.txt',sep= ' ',nrows = 4)
testData[1,3]
testData[1,4]
testData[1,1:3]
L<-readLines(textConnection('./test/X_test.txt'),n=1)
L<-readLines(textConnection('./test/X_test.txt'))
fileName <- open('./test/X_test.txt')
fileName <- open(./test/X_test.txt)
?open
fileConnect = file("./test/X_test.txt")
L <- readLines(fileConnect,n=1)
g <- cumsum(grepl("^String", L))
L2 <- tapply(L, g, paste, collapse = ",")
L2
g <- cumsum(grepl("^String", L))
L2 <- tapply(L, g, paste, collapse = " ")
L2
DF <- read.csv(text = L2, as.is = TRUE)
gsub(pattern = ' ',replacement = ',',x = L2)
g <- cumsum(grepl("^ ", L))
g
index<-grepl("^ ", L)
index
index<-grep("^ ", L)
index
L
index<-grep(" ", L)
index
index<-grep(" ",L)
index<-grepl(" ",L)
index
?split
split(L," ",sep=",")
strsplit(L," ",",")
strsplit(L," " ",")
L
strsplit(L," ",",")
strsplit(L," ",",")
L2 <-strsplit(L," ",",")
which(L2 ~= ' ')
which(L2 = ' ')
which(L2 != ' ')
L2 <-strsplit(L," ",",",na.omit=T)
L2 <-strsplit(L," ",",")
sum(!is.na(L2))
sum(!is.na(L2[1]))
sum(!is.na(L2[1:2]))
lapply(L2,is.na)
sum(lapply(L2,!is.na))
sum(!lapply(L2,is.na))
sum(lapply(L2,is.na))
which(L==' ')
L
class(L)
L== " "
x <- c(as = "asfef", qu = "qwerty", "yuiop[", "b", "stuff.blah.yech")
# split x on the letter e
strsplit(x, "e")
L2
length(L2)
lappy(L2,length)
lappy(L2,length())
class(L2)
?lapply
lapply(L2,length())
lapply(L2,length
)
lapply(L2,length)
L2[1]
L2[[1]]
L2[666]
L2[1][1]
L2[1][[1]]
sapply(L2,length)
L2[[1]]
L2[1]
L2[1][[2]]
str(L2)
L2[1][1:2]
L2[1]
L2[1][1]
str(L2[1])
str(L2[[1]])
str(L2[[1]][1])
str(L2[[1]][2])
str(L2[[1]][3])
str(L2[[1]])
length(str(L2[[1]]))
str(L2[[2]])
str(L2[[1]])
class(L2[[1]])
class(L2[[1]][2])
(L2[[1]][3])
(L2[[1]][3][1])
class(L2[[1]][3])
str(L2[[1]][3])
str(L2[[1]][[1]])
str(L2[[1]][[2]])
str(L2[[1]][[3]])
str(L2[[1]][[3]][1])
str(L2[[1]][[3]][[1])
str(L2[[1]][[3]][[1]])
str(L2[[1]][[1]])
length((L2[[1]][[1]]))
L2
class(L)
L2
L3<-paste(L2,",")
L3
class(L3)
L3[1]
write.csv(L2, file = "MyData.csv",row.names=FALSE, na="")
dir()
dir()
